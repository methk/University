"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var RadixAtomModel_1 = require("../RadixAtomModel");
var RadixHash = /** @class */ (function () {
    function RadixHash(data) {
        if (typeof data == 'string') {
            if (data.length != 64) {
                throw new Error('Hash must be 64 bytes');
            }
            this.data = Buffer.from(data, 'hex');
        }
        else if (Buffer.isBuffer(data)) {
            this.data = data;
        }
        else {
            throw new Error('Invalid data type for a hash');
        }
    }
    RadixHash.fromJson = function (data) {
        return new RadixHash(data.value);
    };
    RadixHash.prototype.toJson = function () {
        return {
            serializer: RadixHash.SERIALIZER,
            value: this.data.toString('hex')
        };
    };
    RadixHash.prototype.toByteArray = function () {
        var type = RadixAtomModel_1.DataTypes.HASH;
        var length = this.data.length;
        var output = Buffer.alloc(length + 5);
        output.writeUInt8(type, 0);
        output.writeUInt32BE(length, 1);
        this.data.copy(output, 5);
        return output;
    };
    RadixHash.SERIALIZER = 'HASH';
    return RadixHash;
}());
exports.default = RadixHash;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFkaXhIYXNoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL21vZHVsZXMvY29tbW9uL1JhZGl4SGFzaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG9EQUFnRTtBQUVoRTtJQUlJLG1CQUFZLElBQXFCO1FBQzdCLElBQUksT0FBTyxJQUFJLElBQUksUUFBUSxFQUFFO1lBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxFQUFFLEVBQUU7Z0JBQ25CLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQTthQUMzQztZQUNELElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUE7U0FDdkM7YUFBTSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDOUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUE7U0FDbkI7YUFBTTtZQUNILE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQThCLENBQUMsQ0FBQTtTQUNsRDtJQUNMLENBQUM7SUFFYSxrQkFBUSxHQUF0QixVQUF1QixJQUEyQztRQUM5RCxPQUFPLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUNwQyxDQUFDO0lBRU0sMEJBQU0sR0FBYjtRQUNJLE9BQU87WUFDSCxVQUFVLEVBQUUsU0FBUyxDQUFDLFVBQVU7WUFDaEMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztTQUNuQyxDQUFBO0lBQ0wsQ0FBQztJQUVNLCtCQUFXLEdBQWxCO1FBQ0ksSUFBSSxJQUFJLEdBQUcsMEJBQVMsQ0FBQyxJQUFJLENBQUE7UUFDekIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUE7UUFFN0IsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUE7UUFFckMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDMUIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBRXpCLE9BQU8sTUFBTSxDQUFBO0lBQ2pCLENBQUM7SUF0Q2Esb0JBQVUsR0FBRyxNQUFNLENBQUE7SUF1Q3JDLGdCQUFDO0NBQUEsQUF4Q0QsSUF3Q0M7a0JBeENvQixTQUFTIn0=