import { RadixPayloadAtom } from '../RadixAtomModel';
export default class RadixBasicPayloadAtom extends RadixPayloadAtom {
    constructor(json) {
        super(json);
    }
    static withEncryptedPayload(payload, recipients, encrypted = true) {
        let atom = new RadixBasicPayloadAtom();
        if (encrypted) {
            atom.addEncryptedPayload(payload, recipients);
        }
        else {
            atom.addUnencryptedPayload(payload);
        }
        // Destinations
        atom.destinations = [];
        for (let recipient of recipients) {
            atom.destinations.push(recipient.getUID());
        }
        // Action
        atom.action = 'STORE';
        atom.timestamps = { default: Date.now() };
        return atom;
    }
}
RadixBasicPayloadAtom.SERIALIZER = -257259791;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFkaXhCYXNpY1BheWxvYWRBdG9tLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL21vZHVsZXMvYXRvbS9SYWRpeEJhc2ljUGF5bG9hZEF0b20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFnQixNQUFNLG1CQUFtQixDQUFBO0FBRWxFLE1BQU0sQ0FBQyxPQUFPLE9BQU8scUJBQXNCLFNBQVEsZ0JBQWdCO0lBRy9ELFlBQVksSUFBYTtRQUNyQixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDZixDQUFDO0lBQ00sTUFBTSxDQUFDLG9CQUFvQixDQUM5QixPQUFZLEVBQ1osVUFBK0IsRUFDL0IsU0FBUyxHQUFHLElBQUk7UUFFaEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxxQkFBcUIsRUFBRSxDQUFBO1FBRXRDLElBQUksU0FBUyxFQUFFO1lBQ1gsSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQTtTQUNoRDthQUFNO1lBQ0gsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQ3RDO1FBRUQsZUFBZTtRQUNmLElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFBO1FBQ3RCLEtBQUssSUFBSSxTQUFTLElBQUksVUFBVSxFQUFFO1lBQzlCLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFBO1NBQzdDO1FBRUQsU0FBUztRQUNULElBQUksQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFBO1FBQ3JCLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUE7UUFFekMsT0FBTyxJQUFJLENBQUE7SUFDZixDQUFDOztBQTdCYSxnQ0FBVSxHQUFHLENBQUMsU0FBUyxDQUFBIn0=