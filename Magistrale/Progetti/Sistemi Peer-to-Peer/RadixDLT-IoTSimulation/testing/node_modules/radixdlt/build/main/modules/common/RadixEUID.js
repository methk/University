"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var RadixUtil_1 = tslib_1.__importDefault(require("./RadixUtil"));
var RadixAtomModel_1 = require("../RadixAtomModel");
var bn_js_1 = tslib_1.__importDefault(require("bn.js"));
var RadixEUID = /** @class */ (function () {
    function RadixEUID(value) {
        if (Array.isArray(value)) {
            this.value = RadixUtil_1.default.bigIntFromByteArray(Buffer.from(value));
        }
        else if (Buffer.isBuffer(value)) {
            this.value = RadixUtil_1.default.bigIntFromByteArray(value);
        }
        else {
            this.value = new bn_js_1.default(value);
        }
    }
    RadixEUID.fromJson = function (data) {
        return new RadixEUID(data.value);
    };
    RadixEUID.prototype.equals = function (euid) {
        return this.value.eq(euid.value);
    };
    RadixEUID.prototype.toJson = function () {
        return {
            serializer: RadixEUID.SERIALIZER,
            value: this.value.toString()
        };
    };
    RadixEUID.prototype.toByteArray = function () {
        var type = RadixAtomModel_1.DataTypes.EUID;
        var data = RadixUtil_1.default.byteArrayFromBigInt(this.value);
        var length = data.length;
        var output = Buffer.alloc(length + 5);
        output.writeUInt8(type, 0);
        output.writeUInt32BE(length, 1);
        data.copy(output, 5);
        return output;
    };
    RadixEUID.prototype.toString = function () {
        return this.value.toString();
    };
    RadixEUID.SERIALIZER = 'EUID';
    return RadixEUID;
}());
exports.default = RadixEUID;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFkaXhFVUlELmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL21vZHVsZXMvY29tbW9uL1JhZGl4RVVJRC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxrRUFBbUM7QUFFbkMsb0RBQWdFO0FBRWhFLHdEQUFzQjtBQUV0QjtJQUlJLG1CQUFZLEtBQVU7UUFDbEIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ3RCLElBQUksQ0FBQyxLQUFLLEdBQUcsbUJBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7U0FDakU7YUFBTSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxtQkFBUyxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFBO1NBQ3BEO2FBQU07WUFDSCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksZUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFBO1NBQzdCO0lBQ0wsQ0FBQztJQUVhLGtCQUFRLEdBQXRCLFVBQXVCLElBQTJDO1FBQzlELE9BQU8sSUFBSSxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ3BDLENBQUM7SUFFTSwwQkFBTSxHQUFiLFVBQWMsSUFBZTtRQUN6QixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUNwQyxDQUFDO0lBRU0sMEJBQU0sR0FBYjtRQUNJLE9BQU87WUFDSCxVQUFVLEVBQUUsU0FBUyxDQUFDLFVBQVU7WUFDaEMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO1NBQy9CLENBQUE7SUFDTCxDQUFDO0lBRU0sK0JBQVcsR0FBbEI7UUFDSSxJQUFJLElBQUksR0FBRywwQkFBUyxDQUFDLElBQUksQ0FBQTtRQUN6QixJQUFJLElBQUksR0FBRyxtQkFBUyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUNwRCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1FBRXhCLElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFBO1FBRXJDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQzFCLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBRXBCLE9BQU8sTUFBTSxDQUFBO0lBQ2pCLENBQUM7SUFFTSw0QkFBUSxHQUFmO1FBQ0ksT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFBO0lBQ2hDLENBQUM7SUE1Q2Esb0JBQVUsR0FBRyxNQUFNLENBQUE7SUE2Q3JDLGdCQUFDO0NBQUEsQUE5Q0QsSUE4Q0M7a0JBOUNvQixTQUFTIn0=