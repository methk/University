import axios from 'axios';
import { RadixSerializer } from '../RadixAtomModel';
/**
 * Radix node discovery from a seed node
 */
export default class RadixNodeDiscoveryFromSeed {
    /**
     * Creates an instance of radix node discovery from seed.
     * @param bootstrapNode Full address to the rpc endpoint of a Radix node in the universe
     */
    constructor(bootstrapNode) {
        this.bootstrapNode = bootstrapNode;
    }
    async loadNodes() {
        const getPeersRequestData = {
            id: 0,
            method: 'Network.getLivePeers',
            params: []
        };
        const nodeListResponse = await axios.post(this.bootstrapNode, getPeersRequestData);
        return RadixSerializer.fromJson(nodeListResponse.data.result);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFkaXhOb2RlRGlzY292ZXJ5RnJvbVNlZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbW9kdWxlcy91bml2ZXJzZS9SYWRpeE5vZGVEaXNjb3ZlcnlGcm9tU2VlZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUE7QUFJekIsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG1CQUFtQixDQUFBO0FBRW5EOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE9BQU8sT0FBTywwQkFBMEI7SUFFM0M7OztPQUdHO0lBQ0gsWUFBcUIsYUFBcUI7UUFBckIsa0JBQWEsR0FBYixhQUFhLENBQVE7SUFBRyxDQUFDO0lBRXZDLEtBQUssQ0FBQyxTQUFTO1FBQ2xCLE1BQU0sbUJBQW1CLEdBQUc7WUFDeEIsRUFBRSxFQUFFLENBQUM7WUFDTCxNQUFNLEVBQUUsc0JBQXNCO1lBQzlCLE1BQU0sRUFBRSxFQUFFO1NBQ2IsQ0FBQTtRQUNELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxLQUFLLENBQUMsSUFBSSxDQUNyQyxJQUFJLENBQUMsYUFBYSxFQUNsQixtQkFBbUIsQ0FDdEIsQ0FBQTtRQUVELE9BQU8sZUFBZSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDakUsQ0FBQztDQUNKIn0=